# GoReleaser configuration for touhou-local-sync
version: 2

# Project metadata
project_name: thlocalsync

# Build configuration
builds:
  - id: windows-build
    main: ./cmd/thlocalsync
    binary: thlocalsync
    env:
      - CGO_ENABLED=0
    goos:
      - windows
    goarch:
      - amd64
      - arm64
    ldflags:
      - -s -w
      - -X main.version={{.Version}}
      - -X main.commit={{.Commit}}
      - -X main.date={{.Date}}

# Archive configuration
archives:
  - id: default
    name_template: >-
      {{ .ProjectName }}_
      {{- .Version }}_
      {{- .Os }}_
      {{- .Arch }}
    files:
      - README.md
      - LICENSE
      - NOTICE

# Checksum generation
checksum:
  name_template: 'checksums.txt'
  algorithm: sha256

# Changelog configuration
changelog:
  sort: asc
  use: github
  filters:
    exclude:
      - '^docs:'
      - '^test:'
      - '^chore:'
      - 'typo'
  groups:
    - title: Features
      regexp: '^.*?feat(\([[:word:]]+\))??!?:.+$'
      order: 0
    - title: 'Bug Fixes'
      regexp: '^.*?fix(\([[:word:]]+\))??!?:.+$'
      order: 1
    - title: 'Performance Improvements'
      regexp: '^.*?perf(\([[:word:]]+\))??!?:.+$'
      order: 2
    - title: Others
      order: 999

# Release configuration
release:
  github:
    owner: otagao
    name: touhou-local-sync
  draft: false
  prerelease: auto
  name_template: "v{{.Version}}"
  header: |
    ## æ±æ–¹Project ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿åŒæœŸãƒ„ãƒ¼ãƒ« v{{.Version}}

    Windowså°‚ç”¨ã®USBãƒ¡ãƒ¢ãƒªã‚’ä½¿ã£ãŸæ±æ–¹Projectã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿åŒæœŸCLIãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

    ### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ–¹æ³•

    1. ãŠä½¿ã„ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«åˆã£ãŸZIPãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
       - é€šå¸¸ã®Windows PC: `thlocalsync_{{.Version}}_windows_amd64.zip`
       - ARM64ç‰ˆWindows: `thlocalsync_{{.Version}}_windows_arm64.zip`
    2. ZIPã‚’è§£å‡ã—ã€`thlocalsync.exe`ã‚’USBãƒ¡ãƒ¢ãƒªã®`/THLocalSync/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®
    3. ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¾ãŸã¯PowerShellã‹ã‚‰å®Ÿè¡Œ

    ### ä½¿ã„æ–¹

    ```bash
    # ã‚»ãƒ¼ãƒ–ãƒ‡ãƒ¼ã‚¿ã®è‡ªå‹•æ¤œå‡ºã¨ç™»éŒ²
    thlocalsync.exe detect

    # ç¾åœ¨ã®çŠ¶æ…‹ç¢ºèª
    thlocalsync.exe status all

    # USBã¸ã®ãƒ—ãƒ«ï¼ˆãƒ­ãƒ¼ã‚«ãƒ« â†’ USBï¼‰
    thlocalsync.exe pull all

    # ãƒ­ãƒ¼ã‚«ãƒ«ã¸ã®ãƒ—ãƒƒã‚·ãƒ¥ï¼ˆUSB â†’ ãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
    thlocalsync.exe push all
    ```

    è©³ç´°ãªä½¿ç”¨æ–¹æ³•ã¯ [README.md](https://github.com/otagao/touhou-local-sync/blob/main/README.md) ã‚’ã”ç¢ºèªãã ã•ã„ã€‚
  footer: |
    ---

    ## âš–ï¸ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹æƒ…å ± / License Information

    **æœ¬ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒ©ã‚¤ã‚»ãƒ³ã‚¹:**
    - MIT Licenseï¼ˆè©³ç´°ã¯ [LICENSE](https://github.com/otagao/touhou-local-sync/blob/main/LICENSE) ã‚’å‚ç…§ï¼‰
    - Copyright (c) 2025 otagao

    **å«ã¾ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ:**

    ã“ã®ãƒªãƒªãƒ¼ã‚¹ã«ã¯ä»¥ä¸‹ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼š

    | ãƒ©ã‚¤ãƒ–ãƒ©ãƒª | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ |
    |-----------|-----------|-----------|
    | [spf13/cobra](https://github.com/spf13/cobra) | v1.10.1 | Apache License 2.0 |
    | [spf13/pflag](https://github.com/spf13/pflag) | v1.0.9 | BSD-3-Clause |
    | [inconshreveable/mousetrap](https://github.com/inconshreveable/mousetrap) | v1.1.0 | Apache License 2.0 |
    | [russross/blackfriday](https://github.com/russross/blackfriday) | v2.1.0 | BSD-2-Clause |
    | [cpuguy83/go-md2man](https://github.com/cpuguy83/go-md2man) | v2.0.6 | MIT License |
    | [go-yaml/yaml](https://github.com/go-yaml/yaml) | v3.0.1 | MIT & Apache 2.0 |
    | [Go Language](https://go.dev/) | 1.23+ | BSD-3-Clause |

    å®Œå…¨ãªãƒ©ã‚¤ã‚»ãƒ³ã‚¹ãƒ†ã‚­ã‚¹ãƒˆã¯ [NOTICE](https://github.com/otagao/touhou-local-sync/blob/main/NOTICE) ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

    ---

    ## ğŸ” ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ / Security

    ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡Œã‚’ç™ºè¦‹ã—ãŸå ´åˆã¯ã€å…¬é–‹ã‚¤ã‚·ãƒ¥ãƒ¼ã§ã¯ãªã[ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¢ãƒ‰ãƒã‚¤ã‚¶ãƒª](https://github.com/otagao/touhou-local-sync/security/advisories/new)ã§å ±å‘Šã—ã¦ãã ã•ã„ã€‚

    ---

    ## ğŸ™ è¬è¾ / Acknowledgments

    ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ä¸Šè¨˜ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã®ç´ æ™´ã‚‰ã—ã„æˆæœç‰©ã®ä¸Šã«æˆã‚Šç«‹ã£ã¦ã„ã¾ã™ã€‚
    å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ¼ã¨è²¢çŒ®è€…ã®çš†æ§˜ã«æ„Ÿè¬ã„ãŸã—ã¾ã™ã€‚

    ---

    **Full Changelog**: https://github.com/otagao/touhou-local-sync/compare/{{.PreviousTag}}...{{.Tag}}

# Snapshot configuration (for testing)
snapshot:
  version_template: "{{ incpatch .Version }}-next"

# Announce (optional - uncomment if you want notifications)
# announce:
#   discord:
#     enabled: true
#     message_template: 'New release: {{ .ProjectName }} {{ .Tag }} is out! Check it out at {{ .ReleaseURL }}'
